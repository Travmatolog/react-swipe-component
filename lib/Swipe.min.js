"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"===("undefined"==typeof b?"undefined":_typeof(b))||"function"==typeof b)?b:a}function _inherits(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof b?"undefined":_typeof(b)));a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var React=require("react"),PropTypes=require("prop-types"),Swipe=function(a){function b(){_classCallCheck(this,b);var a=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));return a.state={x:0,y:0,status:!1,detected:!1,delta:50,preventDefaultEvent:!1},a.moveStart=a._moveStart.bind(a),a.move=a._move.bind(a),a.moveEnd=a._moveEnd.bind(a),a}var c=Math.round,d=Math.abs;return _inherits(b,a),_createClass(b,[{key:"render",value:function(){var a={onTouchStart:this.moveStart,onTouchMove:this.move,onTouchEnd:this.moveEnd,className:this.props.className||null,style:this.props.style||{},onTransitionEnd:this.props.onTransitionEnd,onMouseMove:this.props.mouseSwipe?this.move:null,onMouseDown:this.props.mouseSwipe?this.moveStart:null,onMouseUp:this.props.mouseSwipe?this.moveEnd:null};return React.createElement(this.props.nodeName||"div",a,this.props.children)}},{key:"_moveStart",value:function(a){this.props.preventDefaultEvent&&a.preventDefault(),this.setState({x:d(a.clientX).toFixed(2)||c(a.touches[0].clientX).toFixed(2),y:d(a.clientY).toFixed(2)||c(a.touches[0].clientY).toFixed(2),status:!0,detected:!1})}},{key:"_move",value:function(a){if(this.state.status){this.props.preventDefaultEvent&&a.preventDefault();var b=d(a.clientX).toFixed(2)||c(a.touches[0].clientX).toFixed(2),e=d(a.clientY).toFixed(2)||c(a.touches[0].clientY).toFixed(2),f=parseFloat((b-this.state.x).toFixed(2)),g=parseFloat((e-this.state.y).toFixed(2));d(f)>d(g)&&this.props.onSwipe?this.props.onSwipe([f,0]):d(f)<d(g)&&this.props.onSwipe&&this.props.onSwipe([0,g]),d(f)>=this.props.delta?f>this.props.delta?this.props.onSwipingRight(f):f<-this.props.delta&&this.props.onSwipingLeft(f):d(g)>=this.props.delta&&(g>this.props.delta?this.props.onSwipingDown(g):g<-this.props.delta&&this.props.onSwipingUp(g)),this.state.detected||(d(parseFloat(f))>=this.props.delta?parseFloat(f)>this.props.delta?(this.props.onSwipedRight(!0),this.setState({detected:!0})):parseFloat(f)<-this.props.delta&&(this.props.onSwipedLeft(!0),this.setState({detected:!0})):d(parseFloat(g))>=this.props.delta&&(parseFloat(g)>this.props.delta?(this.props.onSwipedDown(!0),this.setState({detected:!0})):parseFloat(g)<-this.props.delta&&(this.props.onSwipedUp(!0),this.setState({detected:!0}))))}}},{key:"_moveEnd",value:function(a){this.props.preventDefaultEvent&&a.preventDefault(),this.setState({x:0,y:0,status:!1,detected:!1})}}]),b}(React.Component);Swipe.defaultProps={delta:50,mouseSwipe:!1,preventDefaultEvent:!0,onSwipe:function(){},onSwipingUp:function(){},onSwipingRight:function(){},onSwipingDown:function(){},onSwipingLeft:function(){},onSwipedUp:function(){},onSwipedRight:function(){},onSwipedDown:function(){},onSwipedLeft:function(){},onTransitionEnd:function(){}},Swipe.propTypes={nodeName:PropTypes.string,className:PropTypes.string,style:PropTypes.object,delta:PropTypes.number,mouseSwipe:PropTypes.bool,preventDefaultEvent:PropTypes.bool,onSwipe:PropTypes.func,onSwipingUp:PropTypes.func,onSwipingRight:PropTypes.func,onSwipingDown:PropTypes.func,onSwipingLeft:PropTypes.func,onSwipedUp:PropTypes.func,onSwipedRight:PropTypes.func,onSwipedDown:PropTypes.func,onSwipedLeft:PropTypes.func,onTransitionEnd:PropTypes.func},exports.default=Swipe;
